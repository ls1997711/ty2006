"use strict";function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,t){for(var a=0;a<t.length;a++){var e=t[a];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}function _createClass(n,t,a){return t&&_defineProperties(n.prototype,t),a&&_defineProperties(n,a),n}var Cart=function(){function n(){_classCallCheck(this,n),this.no=$(".no"),this.ye=$(".ye"),this.content=$(".content"),this.init()}return _createClass(n,[{key:"init",value:function(){var n=localStorage.getItem("wh-cart")?localStorage.getItem("wh-cart"):"";if(console.log(n.length),0===n.length)this.no.css("display","flex"),this.ye.css("display","none");else{this.no.css("display","none"),this.ye.css("display","block");var t,a=cover(localStorage.getItem("wh-cart"));for(t in a){var e=priceToNUm(a[t].price),e='                <ul class="ul1">\n                    <li class="one">\n                        <p>\n                            <a href="./detail.html">\n                                <img src="../img/xt.jpg" alt="">\n                            </a>\n                        </p>\n                        <h6>\n                            <a href="./detail.html">'.concat(a[t].name,"</a>\n                            <span> 8+128G 黑色<span>\n                        </h6>\n                    </li>\n                    <li>\n                    ").concat("￥"+e+".00",'\n                    </li>\n                    <li class="sl">\n                        <input type="button" value="-" class="a jian"><span class="input">').concat(a[t].num,'</span><input type="button" value="+" class="a jia">\n                    </li>\n                    <li>\n                        ￥0.00\n                    </li>\n                    <li>\n                        3349\n                    </li>\n                    <li class="xj">\n                    ').concat("￥"+e*a[t].num+".00",'\n                    </li>\n                    <li class="rm">\n                        <a href="javasvript:;">\n                            收藏\n                        </a>\n                        <span> | </span>\n                        <a href="javascript:;" class="re">\n                            移除\n                        </a>\n                    </li>\n                </ul>\n                <div class="pirce">\n                <div class="right">\n                    <p>\n                        <span>商品总金额:</span>\n                        <i>').concat("￥"+e*a[t].num+".00",'</i>\n                    </p>\n                    <p>\n                        <span>订单优惠金额:</span>\n                        <i>￥0.00</i>\n                    </p>\n                    <p>\n                        <span class="jf">(订单克的积分3299)</span>\n                        <em>总金额:</em>\n                        <i class="red">\n                        ').concat("￥"+e*a[t].num+".00",'</i>\n                    </p>\n                </div>\n            </div>\n            <div class="footer">\n                <div class="left">\n                    <a href="javascript:;">清空购物车</a>\n                    <a href="./list.html">凑单商品</a>\n                </div>\n                <div class="right">\n                    <a href="../index.html">继续购物</a>\n                    <a href="javascript:;">下单结算 ►</a>\n                </div>\n            </div>');this.content.html(e),this.add(),this.less(),this.colseEle()}}}},{key:"add",value:function(){var a=this;$(".jia").click(function(){var n=a.content.attr("data-id"),t=cover(localStorage.getItem("wh-cart")?localStorage.getItem("wh-cart"):"");t[n].num++,localStorage.setItem("wh-cart",JSON.stringify(t));$(".input").html(),t[n].num;window.location.reload()})}},{key:"less",value:function(){var a=this;$(".jian").click(function(){var n=a.content.attr("data-id"),t=cover(localStorage.getItem("wh-cart")?localStorage.getItem("wh-cart"):"");1===t[n].num?t[n].num=1:t[n].num--,localStorage.setItem("wh-cart",JSON.stringify(t));$(".input").html(),t[n].num;window.location.reload()})}},{key:"colseEle",value:function(){var n=this;$(".re").click(function(){n.content.attr("data-id"),cover(localStorage.getItem("wh-cart")?localStorage.getItem("wh-cart"):"");localStorage.removeItem("wh-cart"),$(".ul1").remove(),window.location.reload()})}}]),n}();function cover(n){return n?JSON.parse(n):{}}function priceToNUm(n){n=n.slice(1,n.length);return parseFloat(n.split(",").join(""),2)}new Cart;